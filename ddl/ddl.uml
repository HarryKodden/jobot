@startuml
hide circle
skinparam linetype ortho

entity "**apikeys**" {
  ApiKeys
  ..
  + ""key"": //uuid [PK]//
  --
  ""created_at"": //timestamp with time zone //
  ""name"": //character varying //
  ""user_id"": //uuid [FK]//
}

entity "**conversations**" {
  Conversations History
  ..
  + ""id"": //uuid [PK]//
  --
  ""created_at"": //timestamp with time zone //
  ""user_id"": //uuid [FK]//
  ""title"": //character varying //
}

entity "**messages**" {
  Messages per conversation
  ..
  + ""id"": //uuid [PK]//
  --
  ""created_at"": //timestamp with time zone //
  ""role"": //text //
  ""content"": //text //
  ""conversation_id"": //uuid [FK]//
}

entity "**profiles**" {
  Profile Table
  ..
  + ""id"": //uuid [PK]//
  --
  ""username"": //character varying //
  ""first_name"": //character varying //
  ""last_name"": //character varying //
  ""avatar_url"": //character varying //
  ""bio"": //character varying //
}

entity "**skills**" {
  Skills Table
  ..
  + ""id"": //bigint [PK]//
  --
  ""created_at"": //timestamp with time zone //
  ""updated_at"": //timestamp with time zone //
  *""user_id"": //uuid [FK]//
  ""slug"": //character varying //
  ""title"": //character varying //
  ""description"": //character varying //
  ""system_prompt"": //character varying //
  ""inputs"": //jsonb //
  ""user_prompt"": //character varying //
}

"**apikeys**"   }--  "**profiles**"

"**conversations**"   }--  "**profiles**"

"**messages**"   }--  "**conversations**"

"**skills**"   }--  "**profiles**"
@enduml
